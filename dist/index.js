var l=function(J,Z,G,Q){var Y=arguments.length,B=Y<3?Z:Q===null?Q=Object.getOwnPropertyDescriptor(Z,G):Q,H;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")B=Reflect.decorate(J,Z,G,Q);else for(var z=J.length-1;z>=0;z--)if(H=J[z])B=(Y<3?H(B):Y>3?H(Z,G,B):H(Z,G))||B;return Y>3&&B&&Object.defineProperty(Z,G,B),B};var s=(J,Z)=>{if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(J,Z)};function r(J){let Z;return class extends J{constructor(...G){if(Z)return Z;super(...G);Z=this}}}class U extends Map{obj(J){J&&R(J).forEach(([Z,G])=>this.set(Z,G))}map(J){J.forEach((Z,G)=>{if(j(Z))this.ass(G,Z);else this.set(G,Z)})}ass(J,Z){if(!this.has(J))this.set(J,{});I(this.get(J),Z)}}var a=(J,Z)=>{if(!Z.has(J))Z.set(J,new U);return Z.get(J)},t=(J,Z)=>{if(!Z.has(J))Z.set(J,[]);return Z.get(J)},AJ=(J)=>Array.from({length:J},(Z,G)=>G),xJ="ABCDEFGHIJKLMNOPQRSTUVWXYZ",LJ="abcdefghijklmnopqrstuvwxyz",bJ=AJ(10).join(""),iJ=new RegExp(/(\d+)(\d*)/,"m"),V=(J)=>typeof J==="function";var f=(J)=>{return!isNaN(parseFloat(J))&&isFinite(J)},e=(J)=>{return typeof J==="object"&&J!==null&&!Array.isArray(J)};var JJ=(J)=>typeof J==="boolean",T=(J)=>typeof J==="string",K=(J)=>Array.isArray(J),j=(J)=>typeof J==="object",ZJ=(J)=>typeof J==="number",O=(J)=>typeof J===null;var GJ=()=>typeof window===void 0;var{values:QJ,keys:v,entries:R,hasOwn:nJ}=Object;var I=Object.assign,E=(J)=>{return Object.keys(J).length};var x=(J)=>JSON.stringify(J);var u=(J)=>{let Z=xJ+LJ;return Array.from({length:J},(G,Q)=>Z+(Q?bJ:"")).reduce((G,Q)=>{return G+=Q.charAt(Math.floor(Math.random()*Q.length))},"")};var YJ=(J,Z)=>{let G={added:{},removed:{},modified:{}},Q=v(J),Y=v(Z);for(let B of Y){let H=J[B],z=Z[B];if(!(B in J))G.added[B]=z;else if(K(H)&&K(z)){if(x(H)!==x(z))G.modified[B]={old:H,new:z}}else if(j(H)&&j(z)&&!O(H)&&!O(z)){let $=YJ(H,z);if(E($.added)||E($.removed)||E($.modified))G.modified[B]={old:H,new:z}}else if(H!==z)G.modified[B]={old:H,new:z}}for(let B of Q)if(!(B in Z))G.removed[B]=J[B];return G},OJ=(J)=>{return QJ(J).some((Z)=>{return E(Z)})},EJ=(J)=>{return J&&J.isConnected},w=new U,g=(J)=>{if(!w.has(J)){let Z=document.getElementById(J);if(Z)return w.set(J,Z),Z}else{let Z=w.get(J);if(Z&&EJ(Z))return Z;w.delete(J)}return},CJ=(J,Z)=>{for(let[G,Q]of J){let Y=g(G);if(!Y){J.delete(G);continue}Q.forEach((B)=>{B.call(Y,Z)})}};class L extends EventTarget{options;states=new U;_value;listening=!1;isNotWindow=GJ();constructor(J,Z){super();this.options=Z;this._value=J}get value(){return this._value}set value(J){if(!J)return;if(j(this._value)){let Z=YJ(this._value,J);if(!OJ(Z))return}else if(this._value===J)return;this._value=J,this.dispatchEvent(new CustomEvent("updated",{detail:J}))}get listen(){let J=this.states,Z=()=>this.listen,G=(Q)=>{if(CJ(J,Q.detail),!J.size)Z()()};if(!this.listening)this.addEventListener("updated",G,this.options),this.listening=!0;return()=>{this.listening&&this.removeEventListener("updated",G,this.options),this.listening=!1}}call(J,Z,G){return()=>{if(a(Z,this.states).set(G,J),!this.isNotWindow&&!this.listening)this.listen}}reset(J){if(this.states.has(J))this.states.delete(J)}}function D(J){return new L(J)}var SJ=(J,Z)=>{if(!Z.has(J))Z.set(J,[]);return Z.get(J)},BJ=(J,Z,G,Q)=>{SJ(Q??J,G).push(Q?`${J}:${Z}`:Z)},fJ=(J,Z)=>{switch(Z??J){case"style":return function(G){this.style.setProperty(J,G.detail)};default:return function(G){this.setAttribute(J,G.detail)}}},HJ=(J,Z,G,Q,Y)=>{let B=(H,z)=>{if(K(z))BJ(H,z.join(" "),G,Y);else if(z instanceof L){let $=fJ(H,Y),q=Y?`${Y}_${H}`:H;Q.push(z.call($,J.id??=Z,q)),B(H,z.value)}else if(j(z)){if(e(z)&&HJ(z,Z,G,Q,H),"id"in z)J.id??=z.id}else BJ(H,JJ(z)?z?"":"false":String(z),G,Y)};R(J).forEach(([H,z])=>!["on","id"].includes(H)&&B(H,z))};class m{_id;statefuls;on={};attr=new U;constructor(J,Z,G=[]){this._id=Z;this.statefuls=G;if(this.on=J.on??{},HJ(J,Z,this.attr,this.statefuls),J.id)this.attr.set("id",[J.id])}get id(){return this.attr.get("id")?.join("")}set id(J){if(!this.attr.has("id"))this.attr.set("id",[J])}get string(){let J=[""];return this.attr.forEach((Z,G)=>{let Q=Z.join(";");J.push(Q?`${G}="${Q}"`:G)}),J.join(" ")}}class h{_c=0;id="";constructor(J){if(this._c=0,this.id=J??u(5),J&&J.includes("_")){let Z=J.split("_"),G=Z.slice(-1).toString(),Q=f(G);this.id=Z.slice(0,-1).join("_"),this._c=Q?parseInt(G):0}}get mid(){return this.id+"_"+this._c++}}var TJ=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],wJ=(J)=>TJ.includes(J),y=new U,zJ=new U,gJ=(J,Z,G)=>{return J.addEventListener(Z,G),()=>{J.removeEventListener(Z,G)}};function _J(J,Z){let[G,Q]=Z,Y=()=>Q.map((H)=>H.value),B=()=>{G(...Y())};Q.forEach((H)=>{H.call(B,J,J+"_watch")()})}function qJ(J){for(let[Z,G]of J){let Q=g(Z);if(Q)R(G).forEach(([Y,B])=>{if(Y==="ready")B.apply(Q);else if(["resize","unload","popstate"].includes(Y))y.set(Z,{[Y]:B});else if(Y==="watch")_J(Z,B());else t(Z,zJ).push(gJ(Q,Y,B))})}}function yJ(){let J=window,Z=(G,Q)=>{y.forEach((Y,B)=>{if(Y[Q]){let H=g(B);if(H)Y[Q].call(H,G.target);else y.delete(B)}})};J.addEventListener("resize",(G)=>Z(G,"resize")),J.addEventListener("beforeunload",(G)=>Z(G,"unload")),J.addEventListener("popstate",(G)=>Z(G,"popstate"))}var $J=(J,Z)=>{let G=[],Q=new U,Y=PJ(J,Z,G,Q);return{states:G,on:Q,ctx:Y}},_=(J,Z,G,Q,Y,B,H)=>{let z=(q,P)=>{if(P)_([M("div",{},q)],Z,G,Q,Y,B,H);else{let F=new h(G+"_0");G=F.mid,Y.id=G,_([q.value],Z,G,F,Y,B,H);let X=q.value instanceof C?"dom":"ctx";B.push(q.call(function(DJ){let b=this.id;if(b){let{states:MJ,on:NJ,ctx:n}=$J(DJ,b);if(this.innerHTML!==n)q.reset(b),this.innerHTML=n,MJ.forEach((k)=>k()),zJ.get(b)?.forEach((k)=>k()),qJ(NJ),y.delete(b)}},G,X))}},$=(q)=>{if(K(q))_(q,Z,G,Q,Y,B,H);else if(q instanceof L)z(q,J.length>1);else Z.push(PJ(q,G,B,H))};J.forEach($)},PJ=(J,Z,G,Q)=>{if(J instanceof C){let Y=J.__(new h(Z));return Q.map(J.ons),G.push(...J.statefuls),Y}else if(j(J))return x(J);else if(J!==void 0&&!O(J))return String(J);return""};class C{statefuls=[];ons=new U;__;constructor(J,Z={},...G){this.__=(Q=new h)=>{let Y=Q.mid,B=new m(Z,Y,this.statefuls),H=[];_(G,H,B.id??Y,Q,B,this.statefuls,this.ons),this.ons.ass(B.id??Y,B.on);let z=wJ(J),$=B.string,q=z?"":H.join(""),P=z?"":`</${J}>`;return`<${J}${$}>${q}${P}`}}}function M(J,Z={},...G){if(V(J))return J(Z??{},...G);return new C(J,Z??{},...G)}var hJ=(J,...Z)=>Z;function o(J,Z,G,Q,Y,B=!1){J.forEach((H)=>{if(K(H))o(H,Z,G,Q,Y,B);else{let{states:z,ctx:$,on:q}=$J(H,Z);G.push($),Q.push(...z),Y.push(q)}})}class FJ{app;path="";constructor(J,Z){this.app=J;this.path=Z?Z.replace(".tsx",".js"):""}async ctx(J={}){await this.dom(J,!0)}async dom(J={},Z=!1){let G=document.body,Q=G.id,Y=await this.app(J),B=K(Y)?Y:[Y],H=[],z=[],$=[];if(o(B,Q,H,z,$,Z),Z)G.innerHTML=H.join("");requestAnimationFrame(()=>{z.forEach((q)=>q()),$.forEach((q)=>qJ(q)),yJ()})}async ssr(J={}){let Z=await this.app(J),G=u(5),Q=K(Z)?Z:[Z],Y=[],B=[],H=[];return o(Q,G+"_0",Y,B,H,!0),{script:`<script type="module">import x from "./${this.path}";x.dom(${x(J)});</script>`,body:`<body id="${G}">${Y.join("")}</body>`}}}class UJ{e;opt;constructor(J){this.e=J;this.opt={duration:500,easing:"ease-in-out",fill:"forwards"}}animate(J,Z={}){return this.e.animate(J,Z)}get slide(){let J=({x:Z=0,y:G=0},Q={})=>{I(this.opt,Q);let Y=[[Z,G],[0,0]].map(([B,H])=>({transform:`translateX(${B}rem) translateY(${H}rem)`}));return this.e.animate(Y,this.opt),this};return{left:(Z={})=>{return J({x:-2},Z)},right:(Z={})=>{return J({x:2},Z)},up:(Z={})=>{return J({y:2},Z)},down:(Z={})=>{return J({y:-2},Z)}}}fade(J={}){I(this.opt,J);let Z=[0,1].map((G)=>({opacity:G}));return this.e.animate(Z,this.opt),this}shake(J="Y",Z={}){I(this.opt,Z);let G=[0,5,-5,5,0].map((Q)=>({transform:`translate${J}(${Q}px)`}));return this.e.animate(G,this.opt),this}color(J=[],Z={}){I(this.opt,Z);let G=Array.isArray(J)?J.map((Q)=>({color:Q})):{color:J};return this.e.animate(G,this.opt),this}bg(J=[],Z={}){I(this.opt,Z);let G=Array.isArray(J)?J.map((Q)=>({backgroundColor:Q})):{backgroundColor:J};return this.e.animate(G,this.opt),this}bounce(J=1,Z={}){I(this.opt,Z);let G=[0.5,J,1].map((Q)=>({transform:`scale(${Q})`}));return this.e.animate(G),this}}class KJ{e;query;constructor(J,Z){this.e=J;this.query=Z}get a(){return new UJ(this)}get all(){if(this.query){let J=document.querySelectorAll(this.query);if(J.length)return Array.from(J).map((Z)=>W(Z))}return[]}get attr(){let J=this.e;return{has:(Z)=>{return J.hasAttribute(Z)},get:(Z)=>{return J.getAttribute(Z)},del:(Z)=>{return J.removeAttribute(Z),this},set:(Z)=>{for(let G in Z){let Q=Z[G];if(Z[G]!==void 0)J.setAttribute(G,Q?Q:"")}return this}}}get children(){return Array.from(this.e.children).map((J)=>W(J))}get click(){return this.e.click(),this}get delete(){return this.e.remove(),this}get disabled(){return this.e.disabled??!1}get focus(){return this.e.focus(),this}get id(){return this.e.id}get inner(){return this.e.innerHTML}get offsetParent(){let J=this.e.offsetParent;if(J)return new S(J);return}get parent(){let J=this.e.parentElement;if(J)return new S(J);return}get rect(){return this.e.getBoundingClientRect()}get remove_element(){return this.e.remove(),this}get style(){let J=this.e.style,Z=this;return{set:(G,Q=0)=>{let Y=J,B=()=>{R(G).forEach(([H,z])=>{if(H in Y){if(Y[H]!==z)Y[H]=z}else if(z!==null)J.setProperty(H,String(z))})};if(V(Q))Z.on("transitionend",Q);if(ZJ(Q))setTimeout(B,Q);else B();return Z},get:(G)=>{return J.getPropertyValue(G.toString())},del:(...G)=>{G.forEach((Q)=>{J.removeProperty(Q.toString())})}}}get submit(){let J=this.e;if("submit"in J)return J.submit();return!1}get tag(){return this.e.tagName.toLowerCase()}get value(){return this.e.value??""}set append(J){this.e.insertAdjacentHTML("beforeend",J)}set appendfirst(J){this.e.insertAdjacentHTML("afterbegin",J)}set disabled(J){let Z=this.e;if("disabled"in Z)Z.disabled=J}set inner(J){let Z=J;this.e.innerHTML=Z}set id(J){this.e.id=J}set value(J){let Z=this.e;Z.value=J}}class S extends KJ{constructor(J,Z){super(J,Z)}add(...J){return this.e.classList.add(...J.map((Z)=>Z.replace(/[^\w-]/,""))),this}remove(...J){return this.e.classList.remove(...J.map((Z)=>Z.replace(/[^\w-]/,""))),this}toggle(J,Z){let G=typeof J!="string"?J.apply(this):J,Q=this.e.classList;return G.split(" ").forEach((Y)=>{Q.toggle(Y,Z)}),this}has(J){return this.e.contains(J)}insert(J){return{HTML:(...Z)=>{return Z.forEach((G)=>{this.e.insertAdjacentHTML(J,G)}),this},element:(...Z)=>{return Z.forEach((G)=>{this.e.insertAdjacentElement(J,G)}),this},text:function(...Z){return Z.forEach((G)=>{this.e.insertAdjacentText(J,G)}),this}}}is(J){let Z=this.e.classList.value.split(" "),G=this.e.tagName.toLocaleLowerCase(),Q=!0,Y=!0;if(J.dom)Y=J.dom==G?!0:!1;if(J.class)if(Array.isArray(J.class))J.class.forEach((B)=>{Q=Q?Z.includes(B):!1});else Q=Q?Z.includes(J.class):!1;return Q&&Y}on(J,Z,G=!1){let Q=!1;if(J.indexOf("touch")>-1)Q=!0;return this.e.addEventListener(J,Z,{capture:G,passive:Q}),this}remove_on(J,Z,G=!1){return this.e.removeEventListener(J,Z,G),this}timed(J,Z=250){return setTimeout(()=>J(this),Z),this}animate(J,Z,G){let Q={duration:300,easing:"ease",fill:"forwards"};if(V(Z))G=Z;else I(Q,Z);let Y=this.e.animate(J,Q);if(G)Y.finished.then(G);return this}}function W(J){if(T(J)){let Z=document.querySelector(J);if(Z)return new S(Z,J);return}else return new S(J)}var kJ=(J,Z,G="url")=>{if(J.attr.get(G)==Z)J.attr.set({slc:""});else J.attr.del("slc")};class N{static _parseURL(J){let Z=[],G=[],Q=J,Y="",B=J.match(/(?<=\?)[^/].*=?(?=\/|$)/g);if(B?.[0])Y=B?.[0],Q=J.slice(0,J.indexOf(Y)-1);let H=Q.match(/(?<=\/)[^/].*?(?=\/|$)/g)??["/"],z={};if(H?.forEach(($)=>{if($.indexOf("<")>=0){let q=$.match(/(?<=<)[^/].*?(?=>|$)/g);if(q?.length){let P=q[0];if(P.indexOf(":")>-1){let[F,X]=P.split(":");Z.push(F),G.push(X)}else Z.push(P)}}else Z.push($)}),J.slice(-1)=="/"&&J.length>1)Z.push("/");if(Y)decodeURIComponent(Y).split("&").forEach((P)=>{let[F,X]=P.split(/\=(.*)/,2);z[F]=X});return{parsed:Z,wcard:G,query:z}}static _type(J,Z=!1){let G=[];if(f(J))G=[Number(J),"number"];else if(Z&&J.indexOf(".")>=1)G=[J,"file"];else{let Q="-";if(J.length==36){let Y=J.match(/\-/g);if(Y&&Y.length==4)Q="uuid";else Q="string"}else if(J!="/")Q="string";G=[J,Q]}return G}}function vJ(J,Z){let G=J[0],Q=J.slice(1);switch(G){case"*":return Z.includes(Q);case"^":return Z.startsWith(Q);case"&":return Z.endsWith(Q);default:return!1}}class XJ{basePath;maps={};wild=[];pathname;constructor(J){this.basePath=J;this.pathname="pathname"in location?location?.pathname.slice(0,-1):""}push(J){let Z=["string","number","uuid"],{parsed:G,wcard:Q}=N._parseURL(J);if(Q.length)this.wild.push(J);else for(let Y=0;Y<G.length;Y++)if(Z.includes(G[Y])){this.wild.push(J);break}}match(J){let Z=this.wild,{parsed:G}=N._parseURL(J),Q="",Y="",B=0,H=0;if(G.forEach((z,$)=>{for(let q=0;q<Z.length;q++){let{parsed:P,wcard:F}=N._parseURL(Z[q]);if(P.length==G.length&&F.length)if(z==P[$]){Y=Z[q],B++;break}else if(F[H]){let X=F[H];if(H++,vJ(X,z)){Y=Z[q],B++;break}}else{let X=N._type(z);if(P[$]==X[1]){Y=Z[q],B++;break}}}}),!Y||B!=G.length)G.forEach((z,$)=>{for(let q=0;q<Z.length;q++){let{parsed:P}=N._parseURL(Z[q]);if(P.length==G.length)if(z==P[$]){Q=Z[q];break}else{let[F,X]=N._type(z);if(P[$]==X){Q=Z[q];break}}}});return B==G.length?Y:Q}url(J){if(J in this.maps)return[J,!1];else{let Z=this.match(J);if(Z&&Z in this.maps)return[Z,!0]}return["",!1]}path(J,{file:Z,title:G="",css:Q=""}){let Y=this.basePath;if(this.push(J),V(Z))this.maps[J]={js:Z,title:G,css:Q};else{let B=this.pathname+(Y?Y+Z:Z);this.maps[J]={js:B.replaceAll("//","/"),title:G,css:Q}}}}class WJ{map;pushState;url="";attr;isSheet;page;nav;title;e;constructor(J={}){this.page=D(M("div",{},"")),this.nav=D("/"),this.title=D(""),this.pushState=J.pushState??!0,this.isSheet=J.isSheet??!1,this.attr=J.isSheet?"surl":"url",this.map=new XJ(J.basePath)}init(J,...Z){this.e=J;let G=this.nav,Q=this.attr,Y=(B,H)=>{if(B!==H)this.get(B,H),this.nav.value=B;Z.forEach((z,$)=>{z(this.isSheet&&$==0?!0:!1)})};return W(`[${Q}]`)?.all.forEach((B)=>{if(!B.attr.has("nav"))B.attr.set({nav:null}),B.on("click",function(z){z.preventDefault();let $=W(this),q=$.attr.get(Q);if(q)Y(q,G.value)})}),this}afterImp(J,Z,G,Q=!1){if(this.title.value=Z,this.init(this.e),!this.isSheet){if(location.pathname!==G)this.pushState&&history.pushState({},Z,G);!Q&&this.e&&this.e.scrollTo({top:J.sT,behavior:"instant"})}}async import(J,Z,G=!1){let Q=async(Y)=>{this.page.value=await Y(),this.afterImp(J,document.title,Z)};if(T(J.js)){let Y=await import((location.pathname?"":".")+J.js);if("default"in Y){this.page.value=await Y.default({...G&&{url:Z}});let B=J.title??document.title;!this.isSheet&&(document.title=B),this.afterImp(J,B,Z)}else this.page.value=M("div",void 0,"error: js has no export defaults.")}else Q(J.js)}sheet(J){let[Z,G]=this.map.url(J);if(Z)this.import(this.map.maps[Z],J,G);return this}reset(){this.page.value=M("div",void 0,"")}async get(J,Z){if(Z){let[Y,B]=this.map.url(Z);if(Y&&this.e)this.map.maps[Y].sT=this.e.scrollTop??0}let[G,Q]=this.map.url(J);if(G)this.url=J,this.nav.value=J,!this.isSheet&&W(`[${this.attr}]`)?.all.forEach((Y)=>kJ(Y,J)),await this.import(this.map.maps[G],J,Q);else this.page.value=M("div",void 0,`"${J}" - not found...`);return this}path(J,{file:Z,title:G="",css:Q=""}){return this.map.path(J,{file:Z,title:G,css:Q}),this}}class d{state;toggle;click;constructor({toggle:J=[],initialState:Z=!1}={}){this.state=D(Z);let G=W(document.body),Q=c.get("LOCAL_SCHEME"),Y=this.isDark,B=Q.as.bool,H=c.get({IS_DARK:()=>this.state.value});this.toggle=(q)=>{q?G.add(...J):G.remove(...J)};let z=this.state,$=this.toggle;if(this.click=function(){let q=z.value;z.value=q,$(q),H.save},B!=null&&B!==Y)this.state.value=!B,H.save,Q.set=Y;if(H.as.bool)this.state.value=H.as.bool;if(this.toggle(this.state.value),this.isMatchMediaSupported)window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(q)=>{let F=(q.matches?"dark":"light")==="dark";this.state.value=F,Q.set=F,this.toggle(F)})}get isMatchMediaSupported(){return window.matchMedia&&typeof window.matchMedia==="function"}get isDark(){return window.matchMedia("(prefers-color-scheme: dark)").matches}}d=l([r,s("design:paramtypes",[Object])],d);class uJ{}var p={},A={};class jJ{stream;url;constructor(J,Z){if(this.url=J,J in p)this.stream=p[J];else this.stream=new EventSource(J,{withCredentials:Z}),p[J]=this.stream,A[this.url]={}}on(J){let Z=this.stream;return R(J).forEach(([G,Q])=>{if(G in A[this.url])A[this.url][G].forEach((Y)=>{this.stream.removeEventListener(G,Y)}),A[this.url][G]=[];if(Z.addEventListener(G,Q),!(G in A[this.url]))A[this.url][G]=[];A[this.url][G].push(Q)}),this}}function vZ(J,Z=!0){return new jJ(J,Z)}function RJ(J){return!isNaN(parseFloat(J))&&isFinite(J)}class IJ{value;constructor(J){this.value=J}get str(){return String(this.value).toString()=="null"?null:String(this.value).toString()}get int(){if(RJ(this.value))return parseInt(this.value);else return null}get float(){if(RJ(this.value))return parseFloat(this.value);else return null}get bool(){if(this.value==="true")return!0;else if(this.value=="false")return!1;else return null}get json(){if(this.value)return JSON.parse(this.value);return null}}class i{key;func;storage;constructor(J,Z="local"){if(typeof J=="object"){let[G,Q]=R(J)[0];this.key=G,this.func=Q}else this.key=J,this.func=null;this.storage=Z=="local"?localStorage:sessionStorage}get as(){return new IJ(this.storage.getItem(this.key))}get value(){return this.storage.getItem(this.key)}get save(){if(this.func)this.set=this.func();return}set set(J){if(typeof J=="object")this.storage.setItem(this.key,JSON.stringify(J));else this.storage.setItem(this.key,String(J))}get remove(){this.storage.removeItem(this.key);return}}var c={get:(J)=>new i(J)},uZ={get:(J)=>new i(J,"session")};class mJ{static set p(J){if(K(J))console.log(...J);else console.log(J)}static get isDark(){return window.matchMedia("(prefers-color-scheme: dark)").matches}}var oJ=new RegExp(/\/\/(.*?\w.*?$)/);function dJ(J,Z){let G=Z;if(J){let Q=oJ.exec(J);if(Q?.length==2){let Y=0;if(Z.startsWith("..")){Z.split("/").forEach(($)=>{if($=="..")Y+=1});let B=Z.split("/").slice(Y).join("/"),H=Q[1].split("/").slice(1,-1);G=H.slice(0,H.length-Y).join("/")+"/"+B}else if(Z.startsWith(".")){let B=Z.split("/").slice(1).join("/");G=Q[1].split("/").slice(1,-1).join("/")+"/"+B}}return"./"+G}return G}function VJ(J){let Z=document.querySelectorAll("head link");for(let G of Z)if("rel"in G){if(G.href.indexOf(J.slice(1))>-1)return!0}return!1}async function cJ(J,Z){if(Array.isArray(J)){for(let Q of J)await cJ(Q,Z);return}let G=dJ(Z,J);if(VJ(G))return;return new Promise((Q,Y)=>{let B=document.createElement("link");W(B).attr.set({id:"_css",rel:"preload stylesheet",type:"text/css",as:"style",href:G}),B.onload=()=>Q(),B.onerror=()=>Y(),W('script[type="module"]')?.insert("beforebegin").element(B)})}function aZ(J,Z,G){if(VJ(J))return J;let Q=document.createElement("link");if(Q.rel="preload",Q.type=G,Q.as=Z,Q.href=J,Z==="font")Q.crossOrigin="anonymous";return document.head.appendChild(Q),J}export{uZ as session,aZ as preload,c as local,cJ as loadCSS,hJ as frag,vZ as eventStream,M as dom,uJ as UI,D as State,WJ as Router,FJ as Render,C as Dom,d as ColorScheme,mJ as $$,W as $};
