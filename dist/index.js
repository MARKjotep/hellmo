var c=function(n,s,i,f){var o=arguments.length,h=o<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,i):f,E;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")h=Reflect.decorate(n,s,i,f);else for(var g=n.length-1;g>=0;g--)if(E=n[g])h=(o<3?E(h):o>3?E(s,i,h):E(s,i))||h;return o>3&&h&&Object.defineProperty(s,i,h),h};var l=(n,s)=>{if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(n,s)};function a(n){let s;return class extends n{constructor(...i){if(s)return s;super(...i);s=this}}}class y{_c=0;_id="";constructor(n){if(this._c=0,this._id=n??w(5),n?.includes("-")){let[s,i]=[n.split("-").slice(0,-1).join("-"),n.split("-").slice(-1)[0]];this._id=s,this._c=O(i)?parseInt(i):0}}get id(){return this._id+"-"+this._c}get mid(){return this._id+"-"+ ++this._c}}class H extends Map{obj(n){n&&q(n).forEach(([s,i])=>this.set(s,i))}map(n){n.forEach((s,i)=>{if(Z(s))this.ass(i,s);else this.set(i,s)})}ass(n,s){if(!this.has(n))this.set(n,{});J(this.get(n),s)}}var S=(n,s)=>{if(!s.has(n))s.set(n,new H);return s.get(n)},I=(n,s)=>{if(!s.has(n))s.set(n,[]);return s.get(n)},qn=(n)=>Array.from({length:n},(s,i)=>i),An="ABCDEFGHIJKLMNOPQRSTUVWXYZ",yn="abcdefghijklmnopqrstuvwxyz",Fn=qn(10).join(""),Rn=new RegExp(/(\d+)(\d*)/,"m"),B=(n)=>typeof n==="function";var O=(n)=>{return!isNaN(parseFloat(n))&&isFinite(n)},u=(n)=>{return typeof n==="object"&&n!==null&&!Array.isArray(n)};var nn=(n)=>typeof n==="boolean",L=(n)=>typeof n==="string",Q=(n)=>Array.isArray(n),Z=(n)=>typeof n==="object",sn=(n)=>typeof n==="number",V=(n)=>typeof n===null,fn=(n)=>typeof n===void 0,on=()=>typeof window===void 0;var{values:hn,keys:K,entries:q,hasOwn:xn}=Object;var J=Object.assign,U=(n)=>{return Object.keys(n).length};var F=(n)=>JSON.stringify(n);var En=(n)=>{if(n.startsWith("webkit"))n="--"+n;return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};var w=(n)=>{let s=An+yn;return Array.from({length:n},(i,f)=>s+(f?Fn:"")).reduce((i,f)=>{return i+=f.charAt(Math.floor(Math.random()*f.length))},"")};var gn=(n,s)=>{let i={added:{},removed:{},modified:{}},f=K(n),o=K(s);for(let h of o){let E=n[h],g=s[h];if(!(h in n))i.added[h]=g;else if(Q(E)&&Q(g)){if(F(E)!==F(g))i.modified[h]={old:E,new:g}}else if(Z(E)&&Z(g)&&!V(E)&&!V(g)){let t=gn(E,g);if(U(t.added)||U(t.removed)||U(t.modified))i.modified[h]={old:E,new:g}}else if(E!==g)i.modified[h]={old:E,new:g}}for(let h of f)if(!(h in s))i.removed[h]=n[h];return i},Xn=(n)=>{return hn(n).some((s)=>{return U(s)})},bn=(n)=>{return n&&n.isConnected},e=new H,R=(n)=>{if(!e.has(n)){let s=document.getElementById(n);if(s)return e.set(n,s),s}else{let s=e.get(n);if(s&&bn(s))return s;e.delete(n)}return},Pn=(n,s)=>{for(let[i,f]of n){let o=R(i);if(!o){n.delete(i);continue}f.forEach((h)=>{h.call(o,s)})}};class z extends EventTarget{options;states=new H;_value;listening=!1;isNotWindow=on();constructor(n,s){super();this.options=s;this._value=n}get value(){return this._value}set value(n){if(V(n)||fn(n))return;if(Z(this._value)){let s=gn(this._value,n);if(!Xn(s))return}else if(this._value===n)return;this._value=n,this.dispatchEvent(new CustomEvent("updated",{detail:this._value}))}get listen(){let n=()=>this.listen,s=(i)=>{if(Pn(this.states,i.detail),!this.states.size)n()()};if(!this.listening)this.addEventListener("updated",s,this.options),this.listening=!0;return()=>{this.listening&&this.removeEventListener("updated",s,this.options),this.listening=!1}}call(n,s){return(i)=>{if(S(i,this.states).set(s,n),!this.isNotWindow&&!this.listening)this.listen;return()=>{if(this.states.has(i))this.states.get(i)?.delete(s)}}}}function X(n){return new z(n)}var m=(n)=>{if(Q(n))return n.join(" ");else if(Z(n)){if(u(n))return F(n)}else if(B(n))return m(n());else if(n!==void 0&&n!==null)return nn(n)?n?"":"false":String(n);return""};class p{attr;constructor(n={}){this.attr=n}getCallback(n,s){switch(s??n){case"style":return function(i){this.style.setProperty(n,i)};default:return function(i){this.setAttribute(n,i)}}}get(n,s=this.attr,i){let f=(o,h)=>{if(Q(h))n.attr_push(o,m(h));else if(h instanceof z){let E=i?`${i}_${o}`:o;n.states.push(h.call(this.getCallback(o,i),E)),f(o,h.value)}else if(Z(h)){if(u(h)&&!i)this.get(n,h,o)}else n.attr_push(o,m(h),i)};q(s).forEach(([o,h])=>{if(["on"].includes(o))Z(s.on)&&n.events.obj(s.on);else f(o,h)})}}var Wn=(n,s,i)=>{return n.addEventListener(s,i),()=>{n.removeEventListener(s,i)}};class j{events=new H;states=new H;winStates=new H;resetST=new H;resetEV=new H;constructor(){}get keys(){return[...new Set([...this.states.keys(),...this.events.keys()])]}set(n){let{id:s,events:i,states:f}=n;if(s){if(i.size)this.events.set(s,i);if(f.length)this.states.set(s,f)}return this}push(n){return n.events.forEach((s,i)=>{s.forEach((f,o)=>{S(i,this.events).set(o,f)})}),n.states.forEach((s,i)=>{I(i,this.states).push(...s)}),this}get stage(){return this.events.forEach((n,s)=>{let i=R(s);if(!i){this.events.delete(s);return}n.forEach((f,o)=>{switch(o){case"ready":f.apply(i);break;case"resize":case"unload":case"popstate":this.winStates.set(s,{[o]:f});break;case"watch":let[h,E]=f(),g=()=>E.map((T)=>T.value),t=()=>{h(...g())};E.forEach((T)=>{I(s,this.states).push(T.call(t,s+"_watch"))});break;default:I(s,this.resetEV).push(Wn(i,o,f))}})}),this.states.forEach((n,s)=>{n.forEach((i)=>{I(s,this.resetST).push(i(s))})}),this.events=new H,this.states=new H,this}get start(){this.stage;let n=window,s=(i,f)=>{this.winStates.forEach((o,h)=>{if(o[f]){let E=R(h);if(E)o[f].call(E,i.target);else this.winStates.delete(h)}})};return n.addEventListener("resize",(i)=>s(i,"resize")),n.addEventListener("beforeunload",(i)=>s(i,"unload")),n.addEventListener("popstate",(i)=>s(i,"popstate")),this}reset(n){return n.forEach((s)=>{this.winStates.delete(s),this.resetST.get(s)?.forEach((i)=>{i()}),this.resetEV.get(s)?.forEach((i)=>{i()})}),this}}class x{xid;IDM;map=new H;states=[];events=new H;OZ;constructor(n,s=new y,i){this.xid=n;this.IDM=s;this.OZ=i??new j}attr_push(n,s,i){let f=i??n;if(!this.map.has(f))this.map.set(f,[]);let o=i?`${En(n)}:${s};`:s;this.map.get(f).push(o)}get attr(){let n=[""];return this.map.forEach((s,i)=>{let f=s.join("");n.push(f?`${i}="${f}"`:i)}),n.join(" ")}set id(n){if(!this.map.has("id"))this.map.set("id",[n])}get id(){return this.map.get("id")?.join("")}}var Kn=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],N=new j,C=(n,s)=>{if(Q(n))return n.map((i)=>C(i,s)).join("");else if(n instanceof b){let i=n.__(s.IDM),{ctx:f,oz:o}=i;return s.OZ.push(o),f}else if(Z(n))return F(n);else if(B(n))return C(n(),s);else if(n!==void 0&&n!==null)return String(n);return""},Tn=(n,s)=>{let i=new y(n),f=new x(i.mid,i);return{ctx:C(s,f),catt:f}};class tn{tag;ctx;closing;constructor(n,s){this.tag=n;this.ctx=s;let i=this.hasTag(n);this.closing=i?"":`</${n}>`}hasTag=(n)=>Kn.includes(n);getCallback(n){return function(s){let i=this.id;if(i){let{ctx:f,catt:o}=Tn(i,s);if(this.innerHTML!==f){this.innerHTML=f;let h=o.OZ.keys;if(h.length)N.reset(h).push(o.OZ).stage}}}}process(n,s=this.ctx,i=[]){let f=(o)=>{if(Q(o))this.process(n,o,i);else if(o instanceof z)if(s.length>1)f(A("div",{},o));else{let h=o.value instanceof b?"dom":"ctx",{ctx:E,catt:g}=Tn(n.xid+"-0",o.value);n.xid=g.xid,n.OZ.push(g.OZ),i.push(E),n.states.push(o.call(this.getCallback(h),h))}else i.push(C(o,n))};return s.forEach(f),i.join("")}get(n){let s=this.process(n);if(n.events.size||n.states.length)n.id=n.xid;return`<${this.tag}${n.attr}>${s}${this.closing}`}}class b{tag;attr;ctx;constructor(n,s={},...i){this.tag=n;this.attr=new p(s),this.ctx=new tn(n,i)}__(n=new y){let s=new x(n.mid,n);this.attr.get(s);let i=this.ctx.get(s),f=s.OZ.set(s);return{ctx:i,oz:f}}}function A(n,s={},...i){if(B(n))return n(s??{},...i);return new b(n,s??{},i)}var zn=(n,...s)=>s;class Hn{app;path="";constructor(n,s){this.app=n;this.path=s?s.replace(".tsx",".js"):""}async ctx(n={}){await this.dom(n,!0)}async dom(n={},s=!1){let i=document.body,f=A("div",{id:"root"},await this.app(n)),{ctx:o,oz:h}=f.__(new y(i.id));if(s)i.insertAdjacentHTML("afterbegin",o);N.push(h),requestAnimationFrame(()=>{N.start})}async ssr(n={}){let s=A("div",{id:"root"},await this.app(n)),i=w(5),{ctx:f}=s.__(new y(i+"-0"));return{script:`<script type="module">import x from "./${this.path}";x.dom(${F(n)});</script>`,body:`<body  id="${i}">${f}</body>`}}}var r=(n)=>{if(n instanceof b){let{ctx:s,oz:i}=n.__();return N.push(i).stage,s}return n};class $n{e;opt;constructor(n){this.e=n;this.opt={duration:500,easing:"ease-in-out",fill:"forwards"}}animate(n,s={}){return this.e.animate(n,s)}get slide(){let n=({x:s=0,y:i=0},f={})=>{J(this.opt,f);let o=[[s,i],[0,0]].map(([h,E])=>({transform:`translateX(${h}rem) translateY(${E}rem)`}));return this.e.animate(o,this.opt),this};return{left:(s={})=>{return n({x:-2},s)},right:(s={})=>{return n({x:2},s)},up:(s={})=>{return n({y:2},s)},down:(s={})=>{return n({y:-2},s)}}}fade(n={}){J(this.opt,n);let s=[0,1].map((i)=>({opacity:i}));return this.e.animate(s,this.opt),this}shake(n="Y",s={}){J(this.opt,s);let i=[0,5,-5,5,0].map((f)=>({transform:`translate${n}(${f}px)`}));return this.e.animate(i,this.opt),this}color(n=[],s={}){J(this.opt,s);let i=Array.isArray(n)?n.map((f)=>({color:f})):{color:n};return this.e.animate(i,this.opt),this}bg(n=[],s={}){J(this.opt,s);let i=Array.isArray(n)?n.map((f)=>({backgroundColor:f})):{backgroundColor:n};return this.e.animate(i,this.opt),this}bounce(n=1,s={}){J(this.opt,s);let i=[0.5,n,1].map((f)=>({transform:`scale(${f})`}));return this.e.animate(i),this}}class Mn{e;query;constructor(n,s){this.e=n;this.query=s}get a(){return new $n(this)}get all(){if(this.query){let n=document.querySelectorAll(this.query);if(n.length)return Array.from(n).map((s)=>Y(s))}return[]}get attr(){let n=this.e;return{has:(s)=>{return n.hasAttribute(s)},get:(s)=>{return n.getAttribute(s)},del:(s)=>{return n.removeAttribute(s),this},set:(s)=>{for(let i in s){let f=s[i];if(s[i]!==void 0)n.setAttribute(i,f?f:"")}return this}}}get children(){return Array.from(this.e.children).map((n)=>Y(n))}get click(){return this.e.click(),this}get delete(){return this.e.remove(),this}get disabled(){return this.e.disabled??!1}get focus(){return this.e.focus(),this}get id(){return this.e.id}get inner(){return this.e.innerHTML}get offsetParent(){let n=this.e.offsetParent;if(n)return new D(n);return}get parent(){let n=this.e.parentElement;if(n)return new D(n);return}get rect(){return this.e.getBoundingClientRect()}get remove_element(){return this.e.remove(),this}get style(){let n=this.e.style,s=this;return{set:(i,f=0)=>{let o=n,h=()=>{q(i).forEach(([E,g])=>{if(E in o){if(o[E]!==g)o[E]=g}else if(g!==null)n.setProperty(E,String(g))})};if(B(f))s.on("transitionend",f);if(sn(f))setTimeout(h,f);else h();return s},get:(i)=>{return n.getPropertyValue(i.toString())},del:(...i)=>{i.forEach((f)=>{n.removeProperty(f.toString())})}}}get submit(){let n=this.e;if("submit"in n)return n.submit();return!1}get tag(){return this.e.tagName.toLowerCase()}get value(){return this.e.value??""}set append(n){this.e.insertAdjacentHTML("beforeend",r(n))}set appendfirst(n){this.e.insertAdjacentHTML("afterbegin",r(n))}set disabled(n){let s=this.e;if("disabled"in s)s.disabled=n}set inner(n){this.e.innerHTML=r(n)}set id(n){this.e.id=n}set value(n){let s=this.e;s.value=n}}class D extends Mn{constructor(n,s){super(n,s)}add(...n){return this.e.classList.add(...n.map((s)=>s.replace(/[^\w-]/,""))),this}remove(...n){return this.e.classList.remove(...n.map((s)=>s.replace(/[^\w-]/,""))),this}toggle(n,s){let i=typeof n!="string"?n.apply(this):n,f=this.e.classList;return i.split(" ").forEach((o)=>{f.toggle(o,s)}),this}has(n){return this.e.contains(n)}insert(n){return{HTML:(...s)=>{return s.forEach((i)=>{this.e.insertAdjacentHTML(n,i)}),this},element:(...s)=>{return s.forEach((i)=>{this.e.insertAdjacentElement(n,i)}),this},text:function(...s){return s.forEach((i)=>{this.e.insertAdjacentText(n,i)}),this}}}is(n){let s=this.e.classList.value.split(" "),i=this.e.tagName.toLocaleLowerCase(),f=!0,o=!0;if(n.dom)o=n.dom==i?!0:!1;if(n.class)if(Array.isArray(n.class))n.class.forEach((h)=>{f=f?s.includes(h):!1});else f=f?s.includes(n.class):!1;return f&&o}on(n,s,i=!1){let f=!1;if(n.indexOf("touch")>-1)f=!0;return this.e.addEventListener(n,s,{capture:i,passive:f}),this}remove_on(n,s,i=!1){return this.e.removeEventListener(n,s,i),this}timed(n,s=250){return setTimeout(()=>n(this),s),this}animate(n,s,i){let f={duration:300,easing:"ease",fill:"forwards"};if(B(s))i=s;else J(f,s);let o=this.e.animate(n,f);if(i)o.finished.then(i);return this}}function Y(n){if(L(n)){let s=document.querySelector(n);if(s)return new D(s,n);return}else return new D(n)}var In=(n,s,i="url")=>{if(n.attr.get(i)==s)n.attr.set({slc:""});else n.attr.del("slc")};class P{static _parseURL(n){let s=[],i=[],f=n,o="",h=n.match(/(?<=\?)[^/].*=?(?=\/|$)/g);if(h?.[0])o=h?.[0],f=n.slice(0,n.indexOf(o)-1);let E=f.match(/(?<=\/)[^/].*?(?=\/|$)/g)??["/"],g={};if(E?.forEach((t)=>{if(t.indexOf("<")>=0){let T=t.match(/(?<=<)[^/].*?(?=>|$)/g);if(T?.length){let $=T[0];if($.indexOf(":")>-1){let[M,G]=$.split(":");s.push(M),i.push(G)}else s.push($)}}else s.push(t)}),n.slice(-1)=="/"&&n.length>1)s.push("/");if(o)decodeURIComponent(o).split("&").forEach(($)=>{let[M,G]=$.split(/\=(.*)/,2);g[M]=G});return{parsed:s,wcard:i,query:g}}static _type(n,s=!1){let i=[];if(O(n))i=[Number(n),"number"];else if(s&&n.indexOf(".")>=1)i=[n,"file"];else{let f="-";if(n.length==36){let o=n.match(/\-/g);if(o&&o.length==4)f="uuid";else f="string"}else if(n!="/")f="string";i=[n,f]}return i}}function Un(n,s){let i=n[0],f=n.slice(1);switch(i){case"*":return s.includes(f);case"^":return s.startsWith(f);case"&":return s.endsWith(f);default:return!1}}class Qn{basePath;maps={};wild=[];pathname;constructor(n){this.basePath=n;this.pathname="pathname"in location?location?.pathname.slice(0,-1):""}push(n){let s=["string","number","uuid"],{parsed:i,wcard:f}=P._parseURL(n);if(f.length)this.wild.push(n);else for(let o=0;o<i.length;o++)if(s.includes(i[o])){this.wild.push(n);break}}match(n){let s=this.wild,{parsed:i}=P._parseURL(n),f="",o="",h=0,E=0;if(i.forEach((g,t)=>{for(let T=0;T<s.length;T++){let{parsed:$,wcard:M}=P._parseURL(s[T]);if($.length==i.length&&M.length)if(g==$[t]){o=s[T],h++;break}else if(M[E]){let G=M[E];if(E++,Un(G,g)){o=s[T],h++;break}}else{let G=P._type(g);if($[t]==G[1]){o=s[T],h++;break}}}}),!o||h!=i.length)i.forEach((g,t)=>{for(let T=0;T<s.length;T++){let{parsed:$}=P._parseURL(s[T]);if($.length==i.length)if(g==$[t]){f=s[T];break}else{let[M,G]=P._type(g);if($[t]==G){f=s[T];break}}}});return h==i.length?o:f}url(n){if(n in this.maps)return[n,!1];else{let s=this.match(n);if(s&&s in this.maps)return[s,!0]}return["",!1]}path(n,{file:s,title:i="",css:f=""}){let o=this.basePath;if(this.push(n),B(s))this.maps[n]={js:s,title:i,css:f};else{let h=this.pathname+(o?o+s:s);this.maps[n]={js:h.replaceAll("//","/"),title:i,css:f}}}}class Zn{map;pushState;url="";attr;isSheet;page;nav;title;e;constructor(n={}){this.page=X(A("div",{},"")),this.nav=X("/"),this.title=X(""),this.pushState=n.pushState??!0,this.isSheet=n.isSheet??!1,this.attr=n.isSheet?"surl":"url",this.map=new Qn(n.basePath)}init(n,...s){this.e=n;let i=this.nav,f=this.attr,o=(h,E)=>{if(h!==E)this.get(h,E),this.nav.value=h;s.forEach((g,t)=>{g(this.isSheet&&t==0?!0:!1)})};return Y(`[${f}]`)?.all.forEach((h)=>{if(!h.attr.has("nav"))h.attr.set({nav:null}),h.on("click",function(g){g.preventDefault();let t=Y(this),T=t.attr.get(f);if(T)o(T,i.value)})}),this}afterImp(n,s,i,f=!1){if(this.title.value=s,this.init(this.e),!this.isSheet){if(location.pathname!==i)this.pushState&&history.pushState({},s,i);!f&&this.e&&this.e.scrollTo({top:n.sT,behavior:"instant"})}}async import(n,s,i=!1){let f=async(o)=>{this.page.value=await o(),this.afterImp(n,document.title,s)};if(L(n.js)){let o=await import((location.pathname?"":".")+n.js);if("default"in o){this.page.value=await o.default({...i&&{url:s}});let h=n.title??document.title;!this.isSheet&&(document.title=h),this.afterImp(n,h,s)}else this.page.value=A("div",void 0,"error: js has no export defaults.")}else f(n.js)}sheet(n){let[s,i]=this.map.url(n);if(s)this.import(this.map.maps[s],n,i);return this}reset(){this.page.value=A("div",void 0,"")}async get(n,s){if(s){let[o,h]=this.map.url(s);if(o&&this.e)this.map.maps[o].sT=this.e.scrollTop??0}let[i,f]=this.map.url(n);if(i)this.url=n,this.nav.value=n,!this.isSheet&&Y(`[${this.attr}]`)?.all.forEach((o)=>In(o,n)),await this.import(this.map.maps[i],n,f);else this.page.value=A("div",void 0,`"${n}" - not found...`);return this}path(n,{file:s,title:i="",css:f=""}){return this.map.path(n,{file:s,title:i,css:f}),this}}class _{state;toggle;click;constructor({toggle:n=[],initialState:s=!1}={}){this.state=X(s);let i=Y(document.body),f=k.get("LOCAL_SCHEME"),o=this.isDark,h=f.as.bool,E=k.get({IS_DARK:()=>this.state.value});this.toggle=(T)=>{T?i.add(...n):i.remove(...n)};let g=this.state,t=this.toggle;if(this.click=function(){let T=g.value;g.value=T,t(T),E.save},h!=null&&h!==o)this.state.value=!h,E.save,f.set=o;if(E.as.bool)this.state.value=E.as.bool;if(this.toggle(this.state.value),this.isMatchMediaSupported)window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(T)=>{let M=(T.matches?"dark":"light")==="dark";this.state.value=M,f.set=M,this.toggle(M)})}get isMatchMediaSupported(){return window.matchMedia&&typeof window.matchMedia==="function"}get isDark(){return window.matchMedia("(prefers-color-scheme: dark)").matches}}_=c([a,l("design:paramtypes",[Object])],_);class jn{}var v={},W={};class Yn{stream;url;constructor(n,s){if(this.url=n,n in v)this.stream=v[n];else this.stream=new EventSource(n,{withCredentials:s}),v[n]=this.stream,W[this.url]={}}on(n){let s=this.stream;return q(n).forEach(([i,f])=>{if(i in W[this.url])W[this.url][i].forEach((o)=>{this.stream.removeEventListener(i,o)}),W[this.url][i]=[];if(s.addEventListener(i,f),!(i in W[this.url]))W[this.url][i]=[];W[this.url][i].push(f)}),this}}function ps(n,s=!0){return new Yn(n,s)}function Jn(n){return!isNaN(parseFloat(n))&&isFinite(n)}class Bn{value;constructor(n){this.value=n}get str(){return String(this.value).toString()=="null"?null:String(this.value).toString()}get int(){if(Jn(this.value))return parseInt(this.value);else return null}get float(){if(Jn(this.value))return parseFloat(this.value);else return null}get bool(){if(this.value==="true")return!0;else if(this.value=="false")return!1;else return null}get json(){if(this.value)return JSON.parse(this.value);return null}}class d{key;func;storage;constructor(n,s="local"){if(typeof n=="object"){let[i,f]=q(n)[0];this.key=i,this.func=f}else this.key=n,this.func=null;this.storage=s=="local"?localStorage:sessionStorage}get as(){return new Bn(this.storage.getItem(this.key))}get value(){return this.storage.getItem(this.key)}get save(){if(this.func)this.set=this.func();return}set set(n){if(typeof n=="object")this.storage.setItem(this.key,JSON.stringify(n));else this.storage.setItem(this.key,String(n))}get remove(){this.storage.removeItem(this.key);return}}var k={get:(n)=>new d(n)},rs={get:(n)=>new d(n,"session")};class Nn{static set p(n){if(Q(n))console.log(...n);else console.log(n)}static get isDark(){return window.matchMedia("(prefers-color-scheme: dark)").matches}}var Dn=new RegExp(/\/\/(.*?\w.*?$)/);function Sn(n,s){let i=s;if(n){let f=Dn.exec(n);if(f?.length==2){let o=0;if(s.startsWith("..")){s.split("/").forEach((t)=>{if(t=="..")o+=1});let h=s.split("/").slice(o).join("/"),E=f[1].split("/").slice(1,-1);i=E.slice(0,E.length-o).join("/")+"/"+h}else if(s.startsWith(".")){let h=s.split("/").slice(1).join("/");i=f[1].split("/").slice(1,-1).join("/")+"/"+h}}return"./"+i}return i}function Gn(n){let s=document.querySelectorAll("head link");for(let i of s)if("rel"in i){if(i.href.indexOf(n.slice(1))>-1)return!0}return!1}async function Ln(n,s){if(Array.isArray(n)){for(let f of n)await Ln(f,s);return}let i=Sn(s,n);if(Gn(i))return;return new Promise((f,o)=>{let h=document.createElement("link");Y(h).attr.set({id:"_css",rel:"preload stylesheet",type:"text/css",as:"style",href:i}),h.onload=()=>f(),h.onerror=()=>o(),Y('script[type="module"]')?.insert("beforebegin").element(h)})}function si(n,s,i){if(Gn(n))return n;let f=document.createElement("link");if(f.rel="preload",f.type=i,f.as=s,f.href=n,s==="font")f.crossOrigin="anonymous";return document.head.appendChild(f),n}var Vn=(n,s)=>{let i=s;if(n?.class)i.push(...Q(n.class)?n.class:[n.class]);return i.filter((f)=>f)};var ii=(n,s={})=>{let{exclude:i,style:f,classes:o}=s;if(o&&o.length&&(n.class=Vn(n,o)),K(n).forEach((h)=>{if(i&&i.includes(h))delete n[h]}),f&&K(f).length)!n.style&&(n.style={}),J(n.style,f)};export{rs as session,ii as reATTR,si as preload,k as local,Ln as loadCSS,zn as frag,ps as eventStream,A as dom,jn as UI,X as State,Zn as Router,Hn as Render,b as Dom,_ as ColorScheme,Nn as $$,Y as $};
